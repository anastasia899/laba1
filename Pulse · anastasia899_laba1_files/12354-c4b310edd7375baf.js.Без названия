performance.mark("js-parse-end:12354-c4b310edd7375baf.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["12354"],{36758(e,r,t){t.d(r,{T:()=>p});var n=t(74848),a=t(16522),o=t(1827),i=t(38621),l=t(26108),s=t(80117),c=t(44640),d=t(96540),u=t(34164),m=t(14208),h=t(933);function p(e){let r,t,p,_,f,b,x,w,g,v,y,j,N,C,S=(0,a.c)(33);S[0]!==e?({icon:b,size:x,onCopy:f,textToCopy:g,tooltipProps:v,variant:w,ariaLabel:r,className:t,disabled:p,..._}=e,S[0]=e,S[1]=r,S[2]=t,S[3]=p,S[4]=_,S[5]=f,S[6]=b,S[7]=x,S[8]=w,S[9]=g,S[10]=v):(r=S[1],t=S[2],p=S[3],_=S[4],f=S[5],b=S[6],x=S[7],w=S[8],g=S[9],v=S[10]);let R=void 0===b?i.CopyIcon:b,k=void 0===x?"medium":x,P=void 0===w?"invisible":w,[T,F]=d.useState(!1),B=(0,o.A)();S[11]!==B||S[12]!==f||S[13]!==g?(y=()=>{F(!0),(0,m.D)(g),f?.(),setTimeout(()=>B()&&F(!1),2e3)},S[11]=B,S[12]=f,S[13]=g,S[14]=y):y=S[14];let L=y,U=r??`Copy "${g}" to clipboard`,E=T?"Copied!":U,I=T?i.CheckIcon:R,A=T?"color-fg-success":void 0;S[15]!==t||S[16]!==A?(j=(0,u.$)(A,t),S[15]=t,S[16]=A,S[17]=j):j=S[17],S[18]!==_||S[19]!==L||S[20]!==k||S[21]!==I||S[22]!==j||S[23]!==P?(N={size:k,variant:P,onClick:L,icon:I,className:j,..._},S[18]=_,S[19]=L,S[20]=k,S[21]=I,S[22]=j,S[23]=P,S[24]=N):N=S[24];let $=N,M=(0,d.useId)();return S[25]!==T||S[26]!==p||S[27]!==U||S[28]!==$||S[29]!==M||S[30]!==v||S[31]!==E?(C=p?(0,n.jsx)(l.K,{...$,"aria-label":U,disabled:!0}):(0,n.jsxs)(n.Fragment,{children:[T&&(0,n.jsx)(s.s,{children:(0,n.jsx)(h.e,{children:"Copied!"})}),(0,n.jsx)(c.m,{text:E,"aria-label":U,type:"label",id:M,"aria-hidden":!0,...v,className:(0,u.$)("CopyToClipboardButton-module__tooltip__BhMvU",v?.className),children:(0,n.jsx)(l.K,{...$,"aria-labelledby":M})})]}),S[25]=T,S[26]=p,S[27]=U,S[28]=$,S[29]=M,S[30]=v,S[31]=E,S[32]=C):C=S[32],C}p.displayName="CopyToClipboardButton"},14208(e,r,t){t.d(r,{D:()=>n});function n(e){let r;if("clipboard"in navigator)return navigator.clipboard.writeText(e);let t=document.body;if(!t)return Promise.reject(Error());let n=((r=document.createElement("pre")).style.width="1px",r.style.height="1px",r.style.position="fixed",r.style.top="5px",r.textContent=e,r);return t.appendChild(n),!function(e){if("clipboard"in navigator)return navigator.clipboard.writeText(e.textContent||"");let r=getSelection();if(null==r)return Promise.reject(Error());r.removeAllRanges();let t=document.createRange();t.selectNodeContents(e),r.addRange(t),document.execCommand("copy"),r.removeAllRanges(),Promise.resolve()}(n),t.removeChild(n),Promise.resolve()}},61287(e,r,t){t.d(r,{F:()=>N});var n=t(74848),a=t(16522),o=t(96540),i=t(21373),l=t(7624),s=t(39081),c=t(87913),d=t(58388),u=t(13691),m=t(36758),h=t(38750),p=t(34164);function _(e){let r,t,o,i,s,c,d,u,_,f=(0,a.c)(16),{ref:b,newBranchName:x,setNewBranchName:w}=e;return f[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)(l.A.Label,{children:"New branch name"}),f[0]=r):r=f[0],f[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,p.$)("color-bg-subtle","NewBranchName-module__TextInput__Pm1HJ"),f[1]=t):t=f[1],f[2]!==w?(o=e=>w(e.target.value),f[2]=w,f[3]=o):o=f[3],f[4]!==x||f[5]!==b||f[6]!==o?(i=(0,n.jsx)(h.A,{block:!0,className:t,value:x,onChange:o,ref:b}),f[4]=x,f[5]=b,f[6]=o,f[7]=i):i=f[7],f[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,p.$)("color-bg-subtle","NewBranchName-module__copyButtonContainer__lXUmM"),f[8]=s):s=f[8],f[9]===Symbol.for("react.memo_cache_sentinel")?(c={direction:"nw"},f[9]=c):c=f[9],f[10]===Symbol.for("react.memo_cache_sentinel")?(d=(0,p.$)("NewBranchName-module__CopyToClipboardButton__ciU2Q"),f[10]=d):d=f[10],f[11]!==x?(u=(0,n.jsx)("div",{className:s,children:(0,n.jsx)(m.T,{tooltipProps:c,textToCopy:x,ariaLabel:"Copy to clipboard",className:d})}),f[11]=x,f[12]=u):u=f[12],f[13]!==i||f[14]!==u?(_=(0,n.jsxs)(l.A,{children:[r,(0,n.jsxs)("div",{className:"NewBranchName-module__NewBranchNameInputGroup__cWkQz",children:[i,u]})]}),f[13]=i,f[14]=u,f[15]=_):_=f[15],_}_.displayName="NewBranchName";var f=t(18990),b=t(66818),x=t(38621);function w(e){return`${e.ownerLogin}/${e.name}`}function g(e){let r,t,l,s,c,d,u,m,h,p,_,g,v=(0,a.c)(37),{isForkSourceOpen:y,setForkSourceOpen:j,repoSource:N,setRepoSource:C,repository:S,repositoryParent:R,setDefaultBranch:k,setBranchSource:P}=e;v[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)("span",{className:"note text-small mt-0",children:"Choose from this fork or its upstream repository."}),v[0]=r):r=v[0],v[1]===Symbol.for("react.memo_cache_sentinel")?(t={role:"dialog",width:"medium"},v[1]=t):t=v[1],v[2]!==j?(l=()=>j(!0),s=()=>j(!1),v[2]=j,v[3]=l,v[4]=s):(l=v[3],s=v[4]),v[5]!==N?(c=e=>(0,n.jsx)(i.Q,{...e,trailingVisual:x.TriangleDownIcon,"aria-label":w(N),"data-testid":"anchor-button",children:(0,n.jsxs)("div",{className:"ForkPicker-module__ForkPickerButtonContent__dNBTP",children:[(0,n.jsx)("div",{className:"ForkPicker-module__repoIconContainer__Ul5Uv",children:(0,n.jsx)(x.RepoIcon,{size:"small"})}),(0,n.jsx)("div",{className:"ForkPicker-module__repoNameContainer__bMU9E",children:(0,n.jsxs)("span",{className:"ForkPicker-module__repoNameText__EZGms",children:["\xa0",`${w(N)}`]})})]})}),v[5]=N,v[6]=c):c=v[6],v[7]===Symbol.for("react.memo_cache_sentinel")?(d={disabled:!0},v[7]=d):d=v[7];let T=N.id===R.id;v[8]!==R||v[9]!==P||v[10]!==k||v[11]!==j||v[12]!==C?(u=()=>{C(R),k(R.defaultBranch),P(R.defaultBranch),j(!1)},v[8]=R,v[9]=P,v[10]=k,v[11]=j,v[12]=C,v[13]=u):u=v[13];let F=`${R.ownerLogin}/${R.name}`;v[14]!==T||v[15]!==u||v[16]!==F?(m=(0,n.jsx)(f.l.Item,{selected:T,onSelect:u,children:F}),v[14]=T,v[15]=u,v[16]=F,v[17]=m):m=v[17];let B=N.id===S.id;v[18]!==S||v[19]!==P||v[20]!==k||v[21]!==j||v[22]!==C?(h=()=>{C(S),k(S.defaultBranch),P(S.defaultBranch),j(!1)},v[18]=S,v[19]=P,v[20]=k,v[21]=j,v[22]=C,v[23]=h):h=v[23];let L=`${S.ownerLogin}/${S.name}`;return v[24]!==B||v[25]!==h||v[26]!==L?(p=(0,n.jsx)(f.l.Item,{selected:B,onSelect:h,children:L}),v[24]=B,v[25]=h,v[26]=L,v[27]=p):p=v[27],v[28]!==m||v[29]!==p?(_=(0,n.jsx)("div",{"data-testid":"overlay-content",id:"selectPanel",children:(0,n.jsxs)(f.l,{selectionVariant:"single",children:[m,p]})}),v[28]=m,v[29]=p,v[30]=_):_=v[30],v[31]!==y||v[32]!==_||v[33]!==l||v[34]!==s||v[35]!==c?(g=(0,n.jsxs)(o.Fragment,{children:[r,(0,n.jsx)(b.T,{open:y,overlayProps:t,onOpen:l,onClose:s,renderAnchor:c,focusZoneSettings:d,children:_})]}),v[31]=y,v[32]=_,v[33]=l,v[34]=s,v[35]=c,v[36]=g):g=v[36],g}g.displayName="ForkPicker";var v=t(9234),y=t(33751);function j(e){let r,t=(0,a.c)(3),{channel:n,onUpdate:o}=e,[,i]=(0,y.o)();t[0]!==o||t[1]!==i?(r=e=>{o(e),i(r=>(r.set("branch_event",encodeURIComponent(e.reason)),r))},t[0]=o,t[1]=i,t[2]=r):r=t[2];let l=r;return(0,v.x)(void 0===n?"":n,l),null}function N(e){let r,t,m,h,p,f,b,x,w=(0,a.c)(33),{branchListCacheKey:v,repository:y,repositoryParent:N,createUrl:C,helpUrl:S,liveReload:R}=e,[k,P]=(0,o.useState)(!1),[T,F]=(0,o.useState)(y.defaultBranch),[B,L]=(0,o.useState)(y.defaultBranch),[U,E]=(0,o.useState)(""),[I,A]=(0,o.useState)(y),[$,M]=(0,o.useState)(!1),[O,D]=(0,o.useState)(void 0),[G,H]=(0,o.useState)(void 0),[z,Q]=(0,o.useState)(!1),[J,V]=(0,o.useState)(!1),[X,q]=(0,o.useState)(void 0),K=(0,o.useRef)(null),W=(0,o.useRef)(null);w[0]===Symbol.for("react.memo_cache_sentinel")?(r=function(){D(void 0),H(void 0),E(""),Q(!1)},w[0]=r):r=w[0];let Z=r;w[1]!==B||w[2]!==C||w[3]!==J||w[4]!==R||w[5]!==U||w[6]!==I||w[7]!==N?(t=async function(){if(!J){V(!0);let e=new FormData;e.append("name",U),e.append("branch",B),N&&e.append("repo",I.id.toString()),e.append("send_response_as_json","true");let r=await (0,d.DI)(C,{method:"post",body:e,headers:{Accept:"application/json"}}),t=await r.json();if(r.ok)Z(),P(!1),R&&t.channel?q(t.channel):window.location.reload();else{let e=t.error;e?.includes("Repository rule violations found")?(H(void 0),D(e.replace("Repository rule violations found","").trim().split("\n\n").slice(0,3))):e&&(D(void 0),H(e.trim()))}V(!1)}},w[1]=B,w[2]=C,w[3]=J,w[4]=R,w[5]=U,w[6]=I,w[7]=N,w[8]=t):t=w[8];let Y=t;return w[9]!==k?(m=()=>{k&&requestAnimationFrame(()=>W.current?.focus())},h=[k],w[9]=k,w[10]=m,w[11]=h):(m=w[10],h=w[11]),(0,o.useEffect)(m,h),w[12]===Symbol.for("react.memo_cache_sentinel")?(p=(0,n.jsx)(i.Q,{ref:K,variant:"primary",className:"pr-ml-3",onClick:()=>{Z(),P(!0)},children:"New branch"}),w[12]=p):p=w[12],w[13]!==v||w[14]!==B||w[15]!==Y||w[16]!==T||w[17]!==S||w[18]!==$||w[19]!==z||w[20]!==U||w[21]!==G||w[22]!==I||w[23]!==y||w[24]!==N||w[25]!==O||w[26]!==k?(f=k&&(0,n.jsx)(s.l,{title:"Create a branch",width:"large",onClose:()=>{P(!1),Z()},returnFocusRef:K,footerButtons:z?[]:[{content:"Cancel",buttonType:"normal",onClick:()=>{P(!1),Z()}},{content:"Create new branch",buttonType:"primary",onClick:Y}],children:(0,n.jsxs)(n.Fragment,{children:[(O||G)&&(0,n.jsx)(u.r,{prefix:"Unable to create branch:",errorMessageUsingPrefix:O?"Please address the rule violations and try again.":void 0,errorMessageNotUsingPrefix:G,ruleErrors:O,helpUrl:S}),(0,n.jsx)("form",{onSubmit:e=>{e.preventDefault(),Y()},children:(0,n.jsx)(_,{newBranchName:U,setNewBranchName:E,ref:W})}),(0,n.jsx)("div",{className:"pr-mt-3",children:(0,n.jsxs)(l.A,{children:[(0,n.jsx)(l.A.Label,{className:"mb-0",children:"Source"}),N&&(0,n.jsx)(g,{isForkSourceOpen:$,setForkSourceOpen:M,repoSource:I,setRepoSource:A,repository:y,repositoryParent:N,setDefaultBranch:F,setBranchSource:L}),(0,n.jsx)(c.PI,{currentCommitish:B,defaultBranch:T,owner:I.ownerLogin,repo:I.name,canCreate:!1,cacheKey:v,selectedRefType:"branch",onSelectItem:e=>L(e),closeOnSelect:!0,types:["branch"],hideShowAll:!0})]})})]})}),w[13]=v,w[14]=B,w[15]=Y,w[16]=T,w[17]=S,w[18]=$,w[19]=z,w[20]=U,w[21]=G,w[22]=I,w[23]=y,w[24]=N,w[25]=O,w[26]=k,w[27]=f):f=w[27],w[28]!==X?(b=X?(0,n.jsx)(j,{channel:X,onUpdate:()=>q(void 0)}):null,w[28]=X,w[29]=b):b=w[29],w[30]!==f||w[31]!==b?(x=(0,n.jsxs)(n.Fragment,{children:[p,f,b]}),w[30]=f,w[31]=b,w[32]=x):x=w[32],x}j.displayName="LiveBranches",N.displayName="CreateBranchButton"},13691(e,r,t){t.d(r,{r:()=>m});var n=t(74848),a=t(16522),o=t(38621),i=t(59134),l=t(83223),s=t(10095),c=t(47829);let d="FlashError-module__Flash__o_nTw";var u=t(34164);function m(e){let r,t=(0,a.c)(9),{prefix:o,errorMessageUsingPrefix:s,errorMessageNotUsingPrefix:m,hideRuleErrorsTitle:p,ruleErrors:_,helpUrl:f,flashRef:b}=e,x=(_?.length||0)>0;return t[0]!==m||t[1]!==s||t[2]!==b||t[3]!==f||t[4]!==p||t[5]!==x||t[6]!==o||t[7]!==_?(r=s||m?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.A,{id:"flash",variant:"danger",className:(0,u.$)("d-flex flex-items-center flex-justify-between",d),tabIndex:-1,ref:b,children:s?(0,n.jsxs)("div",{children:[o," ",(0,n.jsx)(c.BC,{className:"FlashError-module__SafeHTMLText__dlk9w",html:s}),x&&f&&(0,n.jsx)(l.A,{href:`${f}/repositories/configuring-branches-and-merges-in-your-repository/managing-rulesets/about-rulesets`,className:"FlashError-module__Link__bpA1m",children:"Learn more about rulesets."})]}):m&&(0,n.jsx)("div",{children:m})}),x&&(0,n.jsxs)("div",{className:d,children:[!p&&(0,n.jsx)("div",{className:"FlashError-module__ruleViolationsTitle__iXFwJ",children:"Repository rule violations found:"}),_?.map(h)]})]}):null,t[0]=m,t[1]=s,t[2]=b,t[3]=f,t[4]=p,t[5]=x,t[6]=o,t[7]=_,t[8]=r):r=t[8],r}function h(e){return(0,n.jsxs)("div",{className:"FlashError-module__ruleViolationRow__TPFmC",children:[(0,n.jsx)(s.A,{icon:o.XCircleFillIcon,size:16,className:"FlashError-module__Octicon__OM_cv"}),(0,n.jsx)("div",{className:"FlashError-module__ruleViolationText__F_tkG",children:e})]},e)}m.displayName="FlashError"},22249(e,r,t){t.d(r,{Av:()=>l,BM:()=>n,HX:()=>u,M_:()=>m,RD:()=>d,rb:()=>a});let n="GraphQLTraces",a="GraphQLTracingRefresh",o=i()?decodeURIComponent(new URLSearchParams(window.location.search).get("disable_clusters")||"").split(",").filter(e=>""!==e):[];function i(){return"u">typeof window}function l(e){if(!i()||!s()||!e)return;let r=window;r&&!r[n]&&(r[n]=[]),r&&e.__trace&&(r[n].push(e.__trace),"function"==typeof r[a]&&r[a]())}function s(){if(!i())return!1;let e=window;return"true"===new URLSearchParams(window.location.search).get("_tracing")||e&&void 0!==e[n]}function c(){return o.length>0}function d(e){if(!i()||!s()&&!c())return e;let r=new URL(e,window.location.origin);return s()&&r.searchParams.set("_tracing","true"),c()&&r.searchParams.set("disable_clusters",o.join(",")),r.pathname+r.search}function u(e){return o.indexOf(e)>-1}function m(e){if(!i())return;let r=o.indexOf(e);r>-1?o.splice(r,1):o.push(e);let t=new URLSearchParams(window.location.search);t.set("disable_clusters",o.join(",")),window.location.search=t.toString()}},47829(e,r,t){t.d(r,{BC:()=>s,JU:()=>d,Pk:()=>l});var n=t(74848),a=t(16522),o=t(94709),i=t(99418);let l=u(o.az),s=u(o.EY),c=e=>{let r,t,o,i=(0,a.c)(6);return i[0]!==e?({ref:t,...r}=e,i[0]=e,i[1]=r,i[2]=t):(r=i[1],t=i[2]),i[3]!==r||i[4]!==t?(o=(0,n.jsx)("div",{...r,ref:t}),i[3]=r,i[4]=t,i[5]=o):o=i[5],o};c.displayName="Div";let d=u(c);function u(e){let r=r=>{let t,o,l,s=(0,a.c)(7);s[0]!==r?(t=function(e){let{html:r,domPurifyConfig:t,...n}=e,a={...t,RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1};return{sanitizedHTML:i.default.sanitize(r,a),props:n}}(r),s[0]=r,s[1]=t):t=s[1];let{sanitizedHTML:c,props:d}=t;return s[2]!==c?(o={__html:c},s[2]=c,s[3]=o):o=s[3],s[4]!==d||s[5]!==o?(l=(0,n.jsx)(e,{...d,dangerouslySetInnerHTML:o}),s[4]=d,s[5]=o,s[6]=l):l=s[6],l};return r.displayName=`UnsafeHTML${e.displayName||e.name}`,r}},5847(e,r,t){t.d(r,{I:()=>o});var n=t(96540),a=t(37979);function o(e,r,t=[]){let i=(0,n.useCallback)(e,t),l=(0,a.BP)(),s=(0,n.useRef)(l===a.O8.ClientRender),[c,d]=(0,n.useState)(()=>l===a.O8.ClientRender?i():r),u=(0,n.useCallback)(()=>{d(i)},[i]);return(0,n.useLayoutEffect)(()=>{s.current||d(i),s.current=!1},[i,...t]),[c,u]}},58388(e,r,t){t.d(r,{DI:()=>i,QJ:()=>s,Sr:()=>c,lS:()=>l});var n=t(78143),a=t(10149),o=t(22249);async function i(e,r={}){let t,l,s,c;var d,u=e;if(new URL(u,window.location.origin).origin!==window.location.origin)throw Error("Can not make cross-origin requests from verifiedFetch");let{tracingEnabled:m,fetchPath:h}=(t=new URL(d=e,window.location.href),(s=(l=new URL(window.location.href,window.location.origin)).searchParams.get("_features"))&&!t.searchParams.has("_features")&&t.searchParams.set("_features",s),(c=l.searchParams.get("_tracing"))&&!t.searchParams.has("_tracing")&&t.searchParams.set("_tracing",c),{tracingEnabled:!!c,fetchPath:d.startsWith(window.location.origin)?t.href:`${t.pathname}${t.search}`}),p={...r.headers,"GitHub-Verified-Fetch":"true",...(0,n.kt)()},_=await fetch(h,{...r,headers:p}),f=_?.headers?.get("X-Github-Request-Id");if(f&&(0,a.Ex)(f),m&&_){let e=_.clone();try{let r=await e.text(),t=r&&JSON.parse(r);(0,o.Av)(t)}catch{}}return _}function l(e,r){let t={...r?.headers??{},Accept:"application/json","Content-Type":"application/json"},n=r?.body?JSON.stringify(r.body):void 0;return i(e,{...r,body:n,headers:t})}function s(e,r={}){let t={...r.headers,"GitHub-Is-React":"true"};return i(e,{...r,headers:t})}function c(e,r){let t={...r?.headers??{},"GitHub-Is-React":"true"};return l(e,{...r,headers:t})}}}]);
//# sourceMappingURL=12354-c4b310edd7375baf-1b932814b682c30d.js.map